<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>
            <%= htmlWebpackPlugin.options.title %>
        </title>
        <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
        <style>
            body {
                margin: 0;
            }

            .input {
                padding: 200px 200px 200px;
            }

            input {
                margin: 10px;
            }
        </style>
    </head>

    <body>
        123
        <div class="input">
            <input type="text" />
        </div>
        <button id="setClipboard" type="button">复制到剪切板</button>
        <button id="getClipboard" type="button">读取剪切板</button>
    </body>
    <script>
        // testClipboard()
        // testLoad()
        // testAutoComplateInput()
        // testAjax()
        testColor()

        function testClipboard() {
            free('#setClipboard').addEventListener('click', function () {
                free.utils.setClipboard(Date.now())
            })
            free('#getClipboard').addEventListener('click', function () {
                console.log('clipboard', free.utils.getClipboard())
            })
        }

        function testLoad() {
            free.utils.loadJs('/test.js')
            free.load('/test.css', {
                load: function (xml) {
                    var xmlObject = free.utils.parseXml(xml)
                    console.log(xmlObject)
                },
                error: function () {
                    console.log('error')
                }
            })
        }

        function testAutoComplateInput() {
            var autoComplateInput = new free.components.AutoComplateInput('input', {
                customInputEnable: false,
                // suggestions: ['1', '2', '3'],
                fetchSuggestions: function (value, setSuggestions) {
                    window.setTimeout(function () {
                        setSuggestions([
                            {
                                value: value
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            },
                            {
                                value: '2'
                            }
                        ])
                    }, 1000)
                }
            })
            autoComplateInput.onSelect = function (value) {
                console.log('select value: ', value)
            }
            autoComplateInput.onCustomInputReset = function () {
                console.log('customInputReset value: ', this)
            }
        }

        function testAjax() {
            free.ajax({
                type: 'POST',
                url: '',
                dataType: 'json',
                data: {
                    shippingOrderId: '222'
                }
            })
            return
            free.ajax.global({
                urlFormatter: function (url) {
                    return url
                },
                // type: '',
                // async: false,
                // timeout: 1,
                dataFormatter: function (data) {
                    return data
                },
                dataFilter: function (data, type) {
                    console.log('dataFilter global')
                    return data
                },
                jsonpCallback: function () {
                    return 'a1'
                },
                beforeSend: function (xhr) {
                    console.log('beforeSend global')
                    // xhr.setRequestHeader('token', '1')
                },
                success: function (res, status, xhr) {
                    console.info('success global', res)
                },
                error: function (xhr, status, error) {
                    console.log('error global', error)
                },
                complete: function (xhr, status) {
                    console.log('complete global')
                }
            })

            var a = {}

            free.ajax({
                url: 'http://rap2api.taobao.org/app/mock/229190/ajax.freejs.cn/test',
                type: 'GET',
                type: 'POST',
                // global: false,
                // xhr: function() {},
                // async: false,
                // timeout: 0,
                // context: a,
                dataFilter: function (data, type) {
                    console.log('dataFilter')
                    // console.log('data: ', data)
                    // console.log('type: ', type)
                    return data
                },
                contentType: 'application/json; charset=UTF-8',
                dataType: 'json',
                // dataType: 'jsonp',
                data: {
                    a: 1
                },
                // data: JSON.stringify({
                //     a: 1
                // }),
                // jsonp: 'a',
                // jsonpCallback: 'cb',
                beforeSend: function (xhr) {
                    console.log('beforeSend')
                    // console.log('xhr: ', xhr);
                },
                success: function (res, status, xhr) {
                    console.info('success', res)
                    // console.log(this);
                    // console.log('res: ', res);
                    // console.log('status: ', status);
                    // console.log('xhr: ', xhr);
                },
                error: function (xhr, status, error) {
                    console.log('error', error)
                    // console.log(this);
                    // console.log('xhr: ', xhr);
                    // console.log('status: ', status);
                    // console.log('error: ', error);
                },
                complete: function (xhr, status) {
                    console.log('complete')
                    // console.log('xhr: ', xhr);
                    // console.log('status: ', status);
                }
            })
                .success(function (res, status, xhr) {
                    console.log('success promise', res)
                })
                .error(function (xhr, status, error) {
                    console.log('error promise', error)
                })
                .complete(function (xhr, status) {
                    console.log('complete promise')
                })
        }

        function testColor() {
            window.color = free.color('red')
            window.color1 = free.color('rgba(1,2,3,4)')

            color.setAlpha(0.5)
            color.alpha = 1
            console.log(color.toHex())
            console.log(color.toAlphaHex())
            console.log(color1.toRgb())
            console.log(color.toRgba())
        }
    </script>
</html>
